[gd_scene load_steps=22 format=3 uid="uid://cn7f2anrnrt1i"]

[ext_resource type="Script" uid="uid://pn8qhn7cvmkw" path="res://scripts/conveyor.gd" id="1_kqxj7"]
[ext_resource type="Texture2D" uid="uid://bwdst1fg7rmda" path="res://sprites/biscuit.png" id="2_y326v"]
[ext_resource type="ArrayMesh" uid="uid://ldlyhlchh7rp" path="res://models/conveyor.obj" id="3_mfjcm"]
[ext_resource type="PackedScene" uid="uid://bwjxtkatesvxf" path="res://scenes/cashier.tscn" id="3_osxxb"]
[ext_resource type="Material" uid="uid://b7xdxqe5hbykn" path="res://materials/indicator.tres" id="5_ruvuk"]
[ext_resource type="Script" uid="uid://dcfkllessbho8" path="res://scripts/pay_box.gd" id="5_t4je2"]
[ext_resource type="Script" uid="uid://dt4vgh7igkfca" path="res://scripts/pulse.gd" id="6_t4je2"]
[ext_resource type="Script" uid="uid://dgvpdrp3yc08r" path="res://scripts/interactable.gd" id="8_1rfp0"]
[ext_resource type="Texture2D" uid="uid://1pl5r8twta3b" path="res://sprites/grocerybag.png" id="8_crbfm"]

[sub_resource type="BoxShape3D" id="BoxShape3D_rj58c"]
size = Vector3(1.09277, 0.70459, 1.48627)

[sub_resource type="BoxMesh" id="BoxMesh_rj58c"]
size = Vector3(1, 0.03, 0.045)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_osxxb"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ruvuk"]
albedo_color = Color(0.259294, 0.259294, 0.259294, 1)

[sub_resource type="QuadMesh" id="QuadMesh_osxxb"]
size = Vector2(0.285, 0.16)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_54w8r"]
emission_enabled = true
emission = Color(0.0755582, 0.612391, 0.620165, 1)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_osxxb"]
points = PackedVector3Array(-0.482244, -0.007189, -1.2635, -0.482244, 0.382261, -1.2635, 0.555612, -0.007189, -1.2635, -0.482244, -0.007189, 3, -0.404293, 1.22405, -0.680902, -0.101234, 1.64438, -0.680902, 0.555612, 0.382261, -1.2635, -0.482244, 1.10183, -0.553197, 0.634657, 0.913814, -0.434674, 0.555612, -0.007189, 3, -0.482244, 0.992706, 3, -0.404293, 1.22405, 0.0661291, 0.556596, 1.22421, -0.434674, -0.101234, 1.64438, 0.0661291, -0.482244, 1.10183, -0.000227332, 0.634657, 0.913814, -0.118751, 0.555612, 0.992706, 3, 0.556596, 1.22421, -0.118751)

[sub_resource type="QuadMesh" id="QuadMesh_54w8r"]
size = Vector2(0.118, 0.078)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_t4je2"]
albedo_color = Color(0.0526853, 0.415113, 0.86949, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_crbfm"]
size = Vector3(0.251953, 0.331543, 0.332886)

[sub_resource type="BoxMesh" id="BoxMesh_osxxb"]
material = ExtResource("5_ruvuk")
size = Vector3(0.256, 0.335, 0.375)

[sub_resource type="BoxShape3D" id="BoxShape3D_1rfp0"]
size = Vector3(0.601074, 0.537598, 0.640503)

[node name="Conveyor" type="StaticBody3D" groups=["Interactable"]]
collision_layer = 3
script = ExtResource("1_kqxj7")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0463867, 1.29605, 2.74399)
shape = SubResource("BoxShape3D_rj58c")

[node name="moving" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.98714, 2.14697)
mesh = SubResource("BoxMesh_rj58c")
surface_material_override/0 = SubResource("StandardMaterial3D_osxxb")

[node name="Sprite3D" type="Sprite3D" parent="moving"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.186138, 0.169847, 0.473573)
pixel_size = 0.015
billboard = 1
texture_filter = 2
texture = ExtResource("2_y326v")

[node name="Sprite3D2" type="Sprite3D" parent="moving"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.168329, 0.169847, 0.496639)
pixel_size = 0.015
billboard = 1
texture_filter = 2
texture = ExtResource("2_y326v")

[node name="Sprite3D3" type="Sprite3D" parent="moving"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.235713, 0.169847, 0.417899)
pixel_size = 0.015
billboard = 1
texture_filter = 2
texture = ExtResource("2_y326v")

[node name="Sprite3D4" type="Sprite3D" parent="moving"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0656257, 0.169847, 0.373882)
pixel_size = 0.015
billboard = 1
texture_filter = 2
texture = ExtResource("2_y326v")

[node name="Sprite3D5" type="Sprite3D" parent="moving"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.181662, 0.169847, 0.21445)
pixel_size = 0.015
billboard = 1
texture_filter = 2
texture = ExtResource("2_y326v")

[node name="Sprite3D6" type="Sprite3D" parent="moving"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.188028, 0.169847, 0.132401)
pixel_size = 0.015
billboard = 1
texture_filter = 2
texture = ExtResource("2_y326v")

[node name="Sprite3D7" type="Sprite3D" parent="moving"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0448681, 0.196227, 0.742908)
pixel_size = 0.015
billboard = 1
texture_filter = 2
texture = ExtResource("2_y326v")

[node name="Cashier" parent="." instance=ExtResource("3_osxxb")]
transform = Transform3D(-0.565328, 0, -0.824867, 0, 1, 0, 0.824867, 0, -0.565328, -1.457, 0, -0.276)

[node name="Conveyor" type="MeshInstance3D" parent="."]
mesh = ExtResource("3_mfjcm")
surface_material_override/0 = SubResource("StandardMaterial3D_ruvuk")

[node name="screen" type="MeshInstance3D" parent="."]
transform = Transform3D(-4.07641e-08, -0.255328, 0.966855, -1.11607e-08, 0.966855, 0.255328, -1, -3.82609e-10, -4.22626e-08, 0.577588, 1.12527, -0.276235)
mesh = SubResource("QuadMesh_osxxb")
surface_material_override/0 = SubResource("StandardMaterial3D_54w8r")

[node name="base_staticbody" type="StaticBody3D" parent="."]

[node name="CollisionShape3D2" type="CollisionShape3D" parent="base_staticbody"]
shape = SubResource("ConvexPolygonShape3D_osxxb")

[node name="pay_box" type="StaticBody3D" parent="." groups=["Interactable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.662499, 1.11486, 0)
collision_layer = 3
script = ExtResource("5_t4je2")

[node name="debit_card" type="MeshInstance3D" parent="pay_box"]
transform = Transform3D(-4.19611e-08, -0.280147, 0.959957, -0.379924, 0.887977, 0.259141, -0.925018, -0.364711, -0.106435, -0.0542428, -0.0580405, -0.226246)
visible = false
mesh = SubResource("QuadMesh_54w8r")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_t4je2")

[node name="CollisionShape3D" type="CollisionShape3D" parent="pay_box"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.015625, -0.045166, -0.277039)
shape = SubResource("BoxShape3D_crbfm")

[node name="indicator" type="MeshInstance3D" parent="pay_box"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0162944, -0.0514643, -0.281015)
mesh = SubResource("BoxMesh_osxxb")
script = ExtResource("6_t4je2")

[node name="bag" type="Node3D" parent="."]

[node name="bag" type="StaticBody3D" parent="bag" groups=["Interactable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.40554, -0.965237)
collision_layer = 3
script = ExtResource("8_1rfp0")
itemName = "bag"

[node name="Sprite3D" type="Sprite3D" parent="bag/bag"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.276925, 0.0302417)
pixel_size = 0.02
billboard = 1
texture_filter = 0
texture = ExtResource("8_crbfm")

[node name="CollisionShape3D" type="CollisionShape3D" parent="bag/bag"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.000732422, 0.231201, 0.0199585)
shape = SubResource("BoxShape3D_1rfp0")
